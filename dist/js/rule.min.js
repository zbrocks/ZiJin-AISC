document.addEventListener('DOMContentLoaded',function(){const e=document.querySelectorAll('.rule-card'),t=document.querySelectorAll('.rules-category a');if(t.forEach(e=>{e.addEventListener('click',function(e){e.preventDefault();const o=this.getAttribute('href'),c=document.querySelector(o);c&&(document.querySelectorAll('.rules-category').forEach(e=>{e.open=!1}),this.closest('details').open=!0,window.scrollTo({top:c.offsetTop-100,behavior:'smooth'}),t.forEach(e=>e.classList.remove('active')),this.classList.add('active'))})}),window.addEventListener('scroll',function(){let o='';e.forEach(e=>{const t=e.offsetTop-150;pageYOffset>=t&&(o='#'+e.getAttribute('id'))}),t.forEach(e=>{e.classList.remove('active'),e.getAttribute('href')===o&&e.classList.add('active')})}),location.hash){const e=document.querySelector(location.hash);e&&(setTimeout(()=>{window.scrollTo({top:e.offsetTop-100,behavior:'smooth'})},500),t.forEach(e=>{e.getAttribute('href')===location.hash&&(e.classList.add('active'),e.closest('details').open=!0)}))}});