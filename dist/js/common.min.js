function e(){const e=document.documentElement,t=localStorage.getItem('theme');if(t)e.setAttribute('data-theme',t);else{const t=window.matchMedia('(prefers-color-scheme: dark)').matches;e.setAttribute('data-theme',t?'dark':'light')}window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change',t=>{localStorage.getItem('theme')||e.setAttribute('data-theme',t.matches?'dark':'light')})}function t(){const e=document.documentElement,t='dark'===e.getAttribute('data-theme')?'light':'dark';e.setAttribute('data-theme',t),localStorage.setItem('theme',t),n()}function n(){const e=document.getElementById('themeToggle');if(!e)return;const t='dark'===document.documentElement.getAttribute('data-theme');e.innerHTML=t?'<i class="fas fa-sun"></i>':'<i class="fas fa-moon"></i>'}function i(){const e=document.createElement('button');e.innerHTML='<i class="fas fa-arrow-up"></i>',e.className='scroll-to-top',e.style.cssText='\n        position: fixed;\n        bottom: 30px;\n        right: 30px;\n        width: 50px;\n        height: 50px;\n        background: linear-gradient(135deg, var(--current-primary), var(--accent));\n        color: white;\n        border: none;\n        border-radius: 50%;\n        cursor: pointer;\n        opacity: 0;\n        visibility: hidden;\n        transition: all 0.3s ease;\n        z-index: 1000;\n        box-shadow: 0 4px 15px rgba(134, 93, 187, 0.3);\n    ',document.body.appendChild(e),window.addEventListener('scroll',()=>{window.pageYOffset>300?(e.style.opacity='1',e.style.visibility='visible'):(e.style.opacity='0',e.style.visibility='hidden')}),e.addEventListener('click',()=>{window.scrollTo({top:0,behavior:'smooth'})}),e.addEventListener('mouseenter',()=>{e.style.transform='translateY(-3px) scale(1.1)'}),e.addEventListener('mouseleave',()=>{e.style.transform='translateY(0) scale(1)'})}function o(){document.addEventListener('keydown',e=>{'Escape'===e.key&&window.scrollTo({top:0,behavior:'smooth'}),' '===e.key&&e.target===document.body&&e.preventDefault()})}function a(){const e=document.createElement('button');function t(){const t=document.querySelector('.nav-links'),n=document.querySelectorAll('.nav-links li:not(:last-child)'),i=document.getElementById('themeToggle');if(window.innerWidth<=768){if(e.style.display='flex',t&&i){let e=document.getElementById('mobile-nav');if(!e){e=document.createElement('div'),e.id='mobile-nav',e.className='mobile-nav',e.style.cssText='\n                        position: fixed;\n                        top: 0;\n                        right: -100%;\n                        width: 280px;\n                        height: 100vh;\n                        background: var(--current-card-bg);\n                        box-shadow: -5px 0 20px rgba(0, 0, 0, 0.15);\n                        z-index: 1000;\n                        transition: right 0.3s ease;\n                        padding: 80px 20px 20px;\n                        overflow-y: auto;\n                    ';const t=document.createElement('ul');t.className='mobile-nav-list',t.style.cssText='\n                        list-style: none;\n                        padding: 0;\n                        margin: 0;\n                    ',n.forEach(e=>{const n=document.createElement('li');n.style.cssText='\n                            margin-bottom: 15px;\n                        ',n.innerHTML=e.innerHTML,t.appendChild(n)}),e.appendChild(t),document.body.appendChild(e)}}}else{e.style.display='none';const t=document.getElementById('mobile-nav');t&&(t.style.right='-100%')}}e.className='mobile-menu-btn',e.innerHTML='<i class="fas fa-bars"></i>',e.style.cssText='\n        display: none;\n        position: fixed;\n        top: 15px;\n        right: 20px;\n        width: 50px;\n        height: 50px;\n        background: var(--current-primary);\n        color: white;\n        border: none;\n        border-radius: 50%;\n        cursor: pointer;\n        z-index: 1001;\n        box-shadow: 0 4px 15px rgba(134, 93, 187, 0.3);\n        align-items: center;\n        justify-content: center;\n        font-size: 1.2rem;\n    ',document.body.appendChild(e),t(),window.addEventListener('resize',t),e.addEventListener('click',()=>{const t=document.getElementById('mobile-nav');t&&('0px'===t.style.right?(t.style.right='-100%',e.innerHTML='<i class="fas fa-bars"></i>'):(t.style.right='0',e.innerHTML='<i class="fas fa-times"></i>'))}),document.addEventListener('click',t=>{const n=document.getElementById('mobile-nav');!n||'0px'!==n.style.right||n.contains(t.target)||t.target===e||e.contains(t.target)||(n.style.right='-100%',e.innerHTML='<i class="fas fa-bars"></i>')})}document.addEventListener('DOMContentLoaded',()=>{e(),n(),o(),a();const i=document.getElementById('themeToggle');i&&i.addEventListener('click',t);const s=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.animation='fadeIn 0.6s ease-out forwards')})},{threshold:.1});document.querySelectorAll('.animated').forEach(e=>{s.observe(e)})}),window.addEventListener('load',()=>{i()});